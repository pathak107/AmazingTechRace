<%- include('./adminPartials/adminHeader'); -%>


<!-- Main Quill library -->
<script src="//cdn.quilljs.com/1.3.6/quill.js"></script>
<script src="//cdn.quilljs.com/1.3.6/quill.min.js"></script>
<!-- Theme included stylesheets -->
<link href="//cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
<link href="//cdn.quilljs.com/1.3.6/quill.bubble.css" rel="stylesheet">

<script src="/js/image-resize.min.js"></script>

<div class="container">
    <h1>Create Questions</h1>
    <h3><%=message%></h3>
    <form action="/admin/createQues" method="post">
        <label for="game">Choose a Game:</label>
        <div class="input-field">
            <select required id="game" name="gameID">
                <%for(var i=0;i< games.length; i++){%>
                <option value="<%=games[i]._id%>"><%=games[i].title%></option>
                <%}%>
            </select>
        </div>
        
        <input type="text" name="question" id="question" hidden>
        <label for="editor-container">Type your question here.</label>
        <div id="editor-container" class="materialize-textarea" style="height: 200px;"></div>
            <br>
        
        <input required type="text" name="answer" id="" placeholder="answer">
        <input type="text" name="hint1" placeholder="hint for the question(optional)">
        <input type="text" name="hint2" placeholder="hint for the question(optional)">
        <button class="btn waves-effect waves-light" type="submit" name="action">Create Question</button>
    </form>
    <br>
    
    
    <div class="row">
        <%for(var i=0;i<questions.length;i++){%>
                <div class="col s12 m4 l3 deep-purple lighten-5" style="margin-left: 2.5rem; margin-right: 2.5rem;">
                    <div>
                        <h5><%=questions[i].game%></h5>
                        <%for(var j=0;j<questions[i].questions.length;j++){%>
                        <ul class="collection with-header">
                            <li class="collection-header teal lighten-2">
                                <h5>Q <%=questions[i].questions[j].quesIndexInfo%></h5>
                            </li>
                            <li class="collection-item">Question: <%-questions[i].questions[j].question%></li>
                            <li class="collection-item">Answer: <%=questions[i].questions[j].answer%></li>
                            <li class="collection-item">Hint: <%=questions[i].questions[j].hints[0]%></li>
                            <li class="collection-item">Hint: <%=questions[i].questions[j].hints[1]%></li>
                        </ul>
                        <%}%>
                </div>
                    
            </div>
                
        <%}%>
                    </div>

                </div>

                </body>
                <!-- Compiled and minified CSS -->
                <link rel="stylesheet"
                    href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
                <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

                <!-- Compiled and minified JavaScript -->
                <script src="https://code.jquery.com/jquery-3.5.1.min.js"
                    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
                <script>
                    $(document).ready(function () {
                        $('select').formSelect();
                    });

                    var toolbarOptions = [
                        ['bold', 'italic', 'underline', 'strike'],        // toggled buttons
                        ['blockquote', 'code-block'],

                        [{ 'header': 1 }, { 'header': 2 }],               // custom button values
                        [{ 'list': 'ordered' }, { 'list': 'bullet' }],
                        [{ 'script': 'sub' }, { 'script': 'super' }],      // superscript/subscript
                        [{ 'indent': '-1' }, { 'indent': '+1' }],          // outdent/indent
                        [{ 'direction': 'rtl' }],                         // text direction

                        [{ 'size': ['small', false, 'large', 'huge'] }],  // custom dropdown
                        [{ 'header': [1, 2, 3, 4, 5, 6, false] }],
                        ['link', 'image', 'video'],
                        ['clean']                                         // remove formatting button
                    ];
                    var quill = new Quill('#editor-container', {
                        modules: {
                            toolbar: toolbarOptions,
                            imageResize: {}
                        },
                        theme: 'snow'
                    });

                    var form = document.querySelector('form');
                    form.onsubmit = function () {
                        // Populate hidden form on submit
                        $('#question').val(quill.root.innerHTML);
                        return true;
                    };
                </script>

                </html>